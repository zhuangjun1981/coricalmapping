import osimport h5pyimport corticalmapping.DatabaseTools as dtimport corticalmapping.HighLevel as hlfrom matplotlib.backends.backend_pdf import PdfPagesimport matplotlib.pyplot as pltoverlap_ratio = 0.5trace_type = 'f_center_raw'save_folder = 'figures'curr_folder = os.path.dirname(os.path.realpath(__file__))os.chdir(curr_folder)save_folder = os.path.join(curr_folder, save_folder)if not os.path.isdir(save_folder):    os.makedirs(save_folder)nwb_fn = [fn for fn in os.listdir(curr_folder) if fn[-4:] == '.nwb']if len(nwb_fn) == 0:    raise LookupError('cannot find .nwb file.')elif len(nwb_fn) > 1:    raise LookupError('more than one .nwb files found.')nwb_fn = nwb_fn[0]nwb_f = h5py.File(os.path.join(curr_folder, nwb_fn), 'r')pdf_path = os.path.join(save_folder, r'overlapping_rois_{}.pdf'.format(os.path.splitext(nwb_fn)[0]))pdff = PdfPages(pdf_path)roi_triplets = dt.get_roi_triplets(nwb_f=nwb_f, overlap_ratio=overlap_ratio)for i, roi_triplet in enumerate(roi_triplets):    print('plotting triplet: {}. {} / {}'.format(roi_triplet, i + 1, len(roi_triplets)))    f = hl.plot_roi_traces_three_planes(nwb_f=nwb_f,                                        roi0=roi_triplet[0],                                        roi1=roi_triplet[1],                                        roi2=roi_triplet[2],                                        trace_type=trace_type)    pdff.savefig(f)    f.clear()    plt.close()pdff.close()nwb_f.close()